<!-- include header -->
<%- include('./../incs/_header.ejs') %>
<!-- end header -->

    <div class="container-fluid">

      <div class="row">
        <div class="col-12">
          </div>
          <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active" aria-current="page"><a href="/users">Users</a></li>
            </ol>
          </nav>
      </div>

      <div class="card">
          <div class="card-header">
            Edit User
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-4">
                <% if( user ) { %> 
                  <form action="/update-user" method="post">
                      <div class="mb-3">
                          <label for="exampleFormControlInput1" class="form-label">Surname</label>
                          <input type="hidden" name="user_id" value="<%= user._id %>">
                          <input type="text" class="form-control" name="surname"  value="<%= user.surname %>" id="exampleFormControlInput1">
                      </div>
                      <div class="mb-3">
                          <label for="exampleFormControlInput1" class="form-label">Firstname</label>
                          <input type="text" class="form-control" name="firstname" value="<%= user.firstname %>" id="exampleFormControlInput1">
                      </div>
                      <div class="mb-3">
                        <label for="status">Gender</label>
                        <select class="form-select" name="gender" aria-label="Default select example">
                            <option value="<%= user.gender %>" selected>
                                <% if( user.status == 'M') { %> 
                                    Male 
                                <% } else { %> 
                                    Female 
                                <% } %>
                            </option>
                            <option></option>
                            <option value="M">Male</option>
                            <option value="F">Female</option>           
                        </select>
                      </div>
                      <div class="mb-3">
                          <label for="exampleFormControlInput1" class="form-label">Birthdate</label>
                          <input type="text" class="form-control" name="birthdate" value="<%= user.birthdate %>" id="birthdate">
                      </div>
                      <div class="mb-3">
                        <label for="status">Job Title</label>
                        <select class="form-select" name="job_title" aria-label="Default select example">
                            <option value="<%= user.job_title %>" selected><%= user.job_title %></option>
                            <option></option>
                            <option value="Network_Engineer">Network_Engineer</option>
                            <option value="Helpdesk_Technician">Helpdesk_Technician</option>  
                            <option value="Infrastructure_Technician">Infrastructure_Technician</option>         
                        </select>
                      </div>
                      <div class="mb-3">
                          <label for="status">Status</label>
                          <select class="form-select" name="status" aria-label="Default select example">
                            <option value="<%= user.status %>" selected>
                                <% if( user.status == 1) { %> 
                                    active 
                                <% } else { %> 
                                    disabled 
                                <% } %> 
                            </option>
                              <option></option>
                              <option value="1">active</option>
                              <option value="2">disabled</option>
                          </select>
                      </div>  
                    <% } else { %> 
                        User not found
                    <% } %> 
               </div>
            </div>
          </div>
          <div class="card-footer">
            <button type="submit" class="btn btn-primary">Save changes</button>                   
            </form>
          </div>
      </div>

    </div>


<!-- include footer -->
    <%- include('./../incs/_footer.ejs') %> 
<!-- end footer -->